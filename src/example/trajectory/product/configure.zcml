<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser"
    xmlns:i18n="http://namespaces.zope.org/i18n"
    i18n_domain="example.trajectory">

    <include package="collective.trajectory" />
    <adapter factory="collective.trajectory.components.Traverser"
             for="example.trajectory.interfaces.IProductContainer
                  zope.publisher.interfaces.IRequest"/>

    <browser:defaultView
        name="view"
        for="example.trajectory.product.model.IProduct"
        layer="example.trajectory.interfaces.IExampleTrajectoryLayer"
        />

    <browser:page
        name="view"
        for="example.trajectory.product.model.IProduct"
        class="example.trajectory.product.model.View"
        permission="zope2.View"
        layer="example.trajectory.interfaces.IExampleTrajectoryLayer"
        template="view.pt"
        />

    <browser:page
        name="edit"
        for="example.trajectory.product.model.IProduct"
        class="example.trajectory.product.model.EditForm"
        permission="cmf.AddPortalContent"
        layer="example.trajectory.interfaces.IExampleTrajectoryLayer"
        />

    <include package="plone.app.contentlisting" />
    <adapter factory="example.trajectory.product.trajectory.ProductListing"
             for="example.trajectory.product.model.IProduct" />

    <browser:page
          name="contentlisting"
          class=".trajectory.ContentListing"
          permission="zope2.View"
          for="example.trajectory.interfaces.IProductContainer"
          />

<!-- 
    <browser:page
        name="view"
        for="example.trajectory.interfaces.IProductContainer"
        class="example.trajectory.product.model.ProductListingView"
        permission="zope2.View"
        layer="example.trajectory.interfaces.IExampleTrajectoryLayer"
        template="listing.pt"
        />
 -->
</configure>
